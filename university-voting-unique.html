<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ° ë””ì €íŠ¸ íŠ¸ëŸ­ì´ ì°¾ì•„ê°‘ë‹ˆë‹¤!</title>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --peach: #FF8C69;
            --coral: #FF6B6B;
            --mint: #4ECDC4;
            --yellow: #FFE66D;
            --cream: #FFF9F0;
            --pink-light: #FFD6D6;
            --brown: #5C3D2E;
            --text-dark: #3D2B1F;
            --gold: #FFD700;
            --silver: #C0C0C0;
            --bronze: #CD7F32;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: var(--cream);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: radial-gradient(circle, #FFD6D6 1.5px, transparent 1.5px);
            background-size: 28px 28px;
            opacity: 0.5;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* ===== HEADER ===== */
        header {
            text-align: center;
            padding: 40px 20px 30px;
            position: relative;
        }

        .truck-emoji {
            font-size: 5em;
            display: block;
            animation: bounce 2s infinite;
            line-height: 1;
            margin-bottom: 10px;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-12px) rotate(2deg); }
        }

        h1 {
            font-family: 'Gaegu', cursive;
            font-size: 3em;
            color: var(--brown);
            line-height: 1.2;
            text-shadow: 3px 3px 0px var(--pink-light);
            position: relative;
        }

        h1 span { color: var(--coral); }

        .subtitle {
            font-size: 1.1em;
            color: #7a5c50;
            margin: 12px 0 20px;
            line-height: 1.6;
        }

        .live-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--coral);
            color: white;
            padding: 8px 22px;
            border-radius: 30px;
            font-size: 0.95em;
            font-weight: 700;
            box-shadow: 0 4px 0 #c0392b;
            letter-spacing: 0.5px;
        }

        .live-dot {
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(1.4); }
        }

        /* ===== URGENCY BANNER ===== */
        .urgency-banner {
            background: linear-gradient(90deg, var(--yellow), #FFD700, var(--yellow));
            background-size: 200% auto;
            animation: shimmer 3s linear infinite;
            border-radius: 16px;
            padding: 16px 24px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.05em;
            font-weight: 800;
            color: var(--brown);
            box-shadow: 0 4px 0 #d4a017, 0 6px 20px rgba(255, 180, 0, 0.3);
            border: 2px dashed #d4a017;
            letter-spacing: 0.3px;
        }

        @keyframes shimmer {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        .cta-box {
            background: linear-gradient(135deg, #FFF5F5 0%, #FFE8E8 100%);
            border: 2px solid var(--coral);
            color: var(--brown);
            padding: 20px;
            border-radius: 16px;
            margin: 20px 0;
            text-align: center;
        }

        .cta-box h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: var(--coral);
        }

        .cta-box p {
            line-height: 1.6;
            color: #7a5c50;
        }

        /* ===== ACTION BUTTONS ===== */
        .action-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 16px 32px;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(.34,1.56,.64,1);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 0 rgba(0,0,0,0.2);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 0 rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--coral), #FF4757);
            color: white;
            box-shadow: 0 6px 0 #D63031;
        }

        .btn-primary:hover {
            box-shadow: 0 10px 0 #D63031;
        }

        .btn-share {
            background: linear-gradient(135deg, var(--mint), #2EBAAE);
            color: white;
            box-shadow: 0 6px 0 #259B8F;
        }

        .btn-share:hover {
            box-shadow: 0 10px 0 #259B8F;
        }

        .btn-icon {
            font-size: 1.3em;
        }

        /* ===== PODIUM DESIGN ===== */
        .podium-section {
            margin: 40px 0;
            perspective: 1000px;
        }

        .podium-container {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            padding: 0 20px;
        }

        .podium-card {
            position: relative;
            text-align: center;
            animation: podiumRise 0.8s cubic-bezier(.34,1.56,.64,1) both;
        }

        @keyframes podiumRise {
            from { opacity: 0; transform: translateY(100px) scale(0.8); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .podium-card.rank-1 { animation-delay: 0.2s; order: 2; }
        .podium-card.rank-2 { animation-delay: 0.1s; order: 1; }
        .podium-card.rank-3 { animation-delay: 0.15s; order: 3; }

        .podium-profile {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: -10px;
            position: relative;
            z-index: 2;
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            min-width: 180px;
            transition: transform 0.3s ease;
        }

        .podium-profile:hover {
            transform: translateY(-8px) scale(1.05);
        }

        .rank-1 .podium-profile {
            border: 3px solid var(--gold);
            background: linear-gradient(160deg, #FFFEF8 0%, #FFF9E6 100%);
        }

        .rank-2 .podium-profile {
            border: 3px solid var(--silver);
            background: linear-gradient(160deg, #FAFAFA 0%, #F5F5F5 100%);
        }

        .rank-3 .podium-profile {
            border: 3px solid var(--bronze);
            background: linear-gradient(160deg, #FFF8F0 0%, #F5E8D8 100%);
        }

        /* University Avatar */
        .uni-avatar {
            width: 80px;
            height: 80px;
            margin: 0 auto 12px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            position: relative;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .rank-1 .uni-avatar { background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); }
        .rank-2 .uni-avatar { background: linear-gradient(135deg, #E8E8E8 0%, #BDBDBD 100%); }
        .rank-3 .uni-avatar { background: linear-gradient(135deg, #D4A574 0%, #B8860B 100%); }

        .uni-avatar::after {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 50%;
            background: inherit;
            filter: blur(8px);
            opacity: 0.4;
            z-index: -1;
        }

        .crown-icon {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            animation: crownFloat 2s ease-in-out infinite;
        }

        @keyframes crownFloat {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }

        .uni-name {
            font-size: 1.1em;
            font-weight: 800;
            color: var(--brown);
            margin-bottom: 8px;
        }

        .uni-count {
            font-size: 2em;
            font-weight: 800;
            color: var(--coral);
            margin-bottom: 4px;
        }

        .uni-label {
            font-size: 0.85em;
            color: #888;
        }

        .rank-change {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 0.9em;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 700;
            margin-top: 8px;
            animation: popIn 0.4s cubic-bezier(.34,1.56,.64,1);
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        .rank-change.up {
            background: #D4EDDA;
            color: #155724;
        }

        .rank-change.down {
            background: #F8D7DA;
            color: #721C24;
        }

        /* Podium Base */
        .podium-base {
            background: linear-gradient(180deg, #E0E0E0 0%, #BDBDBD 100%);
            border-radius: 8px 8px 0 0;
            padding: 20px 10px;
            box-shadow: 0 -4px 0 rgba(0,0,0,0.1) inset;
            position: relative;
        }

        .rank-1 .podium-base {
            height: 140px;
            background: linear-gradient(180deg, #FFD700 0%, #FFA500 100%);
        }

        .rank-2 .podium-base {
            height: 100px;
            background: linear-gradient(180deg, #E0E0E0 0%, #BDBDBD 100%);
        }

        .rank-3 .podium-base {
            height: 80px;
            background: linear-gradient(180deg, #D4A574 0%, #B8860B 100%);
        }

        .podium-rank {
            font-size: 3em;
            font-weight: 900;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-family: 'Gaegu', cursive;
        }

        /* ===== OTHER RANKS LIST ===== */
        .other-ranks {
            max-width: 800px;
            margin: 40px auto;
        }

        .other-ranks h3 {
            text-align: center;
            font-size: 1.5em;
            color: var(--brown);
            margin-bottom: 20px;
        }

        .rank-item {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: slideIn 0.5s ease both;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .rank-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .rank-number {
            font-size: 1.8em;
            font-weight: 800;
            color: var(--brown);
            min-width: 40px;
            text-align: center;
        }

        .rank-item .uni-avatar {
            width: 60px;
            height: 60px;
            font-size: 1.8em;
            background: linear-gradient(135deg, #FFE5E5 0%, #FFD0D0 100%);
        }

        .rank-info {
            flex: 1;
        }

        .rank-info .uni-name {
            font-size: 1.2em;
            margin-bottom: 4px;
        }

        .rank-stats {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.9em;
            color: #888;
        }

        .rank-item .uni-count {
            font-size: 1.5em;
            margin: 0;
        }

        /* ===== TOTAL BOX ===== */
        .total-box {
            background: white;
            border-radius: 24px;
            padding: 40px;
            margin: 40px 0;
            text-align: center;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
            border: 3px solid var(--coral);
        }

        .total-box h2 {
            font-size: 1.6em;
            color: var(--brown);
            margin-bottom: 20px;
        }

        .total-number {
            font-size: 4.5em;
            font-weight: 900;
            color: var(--coral);
            font-family: 'Gaegu', cursive;
            text-shadow: 3px 3px 0 var(--pink-light);
            margin-bottom: 10px;
        }

        .total-label {
            font-size: 1.2em;
            color: #7a5c50;
            margin-bottom: 20px;
        }

        .update-time {
            font-size: 0.9em;
            color: #999;
        }

        /* ===== LOADING & ERROR ===== */
        .loading {
            text-align: center;
            font-size: 1.5em;
            color: var(--brown);
            padding: 60px;
            font-weight: 700;
        }

        .loading span {
            animation: loadingDot 1.4s infinite both;
            display: inline-block;
            margin: 0 2px;
        }

        .loading span:nth-child(2) { animation-delay: 0.2s; }
        .loading span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes loadingDot {
            0%, 80%, 100% { opacity: 0.3; }
            40% { opacity: 1; }
        }

        .error-message {
            background: #FFF3CD;
            border: 2px solid #FFA500;
            color: var(--brown);
            padding: 20px;
            border-radius: 16px;
            margin: 20px 0;
            text-align: center;
            font-weight: 700;
        }

        /* Floating treats */
        .floater {
            position: fixed;
            pointer-events: none;
            animation: floatUp 8s ease-in infinite;
            z-index: 0;
            opacity: 0;
        }

        .floater img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.15));
        }

        @keyframes floatUp {
            0% { opacity: 0; transform: translateY(0) rotate(0deg); }
            10% { opacity: 0.7; }
            90% { opacity: 0.4; }
            100% { opacity: 0; transform: translateY(-100vh) rotate(360deg); }
        }

        /* Stagger animations */
        .floater:nth-child(1) { animation-delay: 0s; left: 5%; }
        .floater:nth-child(2) { animation-delay: 2s; left: 15%; }
        .floater:nth-child(3) { animation-delay: 4s; left: 28%; }
        .floater:nth-child(4) { animation-delay: 1s; left: 45%; }
        .floater:nth-child(5) { animation-delay: 3s; left: 62%; }
        .floater:nth-child(6) { animation-delay: 5s; left: 75%; }
        .floater:nth-child(7) { animation-delay: 1.5s; left: 88%; }
        .floater:nth-child(8) { animation-delay: 3.5s; left: 92%; }

        @media (max-width: 768px) {
            h1 { font-size: 2.1em; }
            .truck-emoji { font-size: 3.5em; }
            .podium-container {
                gap: 8px;
                padding: 0 10px;
            }
            .podium-profile {
                padding: 12px;
                min-width: 0;
            }
            .uni-avatar {
                width: 50px;
                height: 50px;
                font-size: 1.8em;
            }
            .uni-name {
                font-size: 0.85em;
            }
            .uni-count {
                font-size: 1.5em;
            }
            .uni-label {
                font-size: 0.75em;
            }
            .podium-base {
                padding: 12px 5px;
            }
            .rank-1 .podium-base { height: 100px; }
            .rank-2 .podium-base { height: 70px; }
            .rank-3 .podium-base { height: 60px; }
            .podium-rank {
                font-size: 2em;
            }
            .crown-icon {
                font-size: 1.5em;
                top: -15px;
            }
            .rank-change {
                font-size: 0.75em;
                padding: 3px 8px;
            }
            .total-number { font-size: 3.5em; }
            .action-buttons {
                flex-direction: column;
            }
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>

    <!-- Floating product images -->
    <div class="floater"><img src="1771930651027_image.png" alt="ì•½ê³¼ ìºë¦­í„°"></div>
    <div class="floater"><img src="image_117.png" alt="ë–¡ ìºë¦­í„°"></div>
    <div class="floater"><img src="ë‘ì«€ë–¡_í”¼ë„›__íŒ¨í‚¤ì§€.png" alt="ë‘ì«€ë–¡ í”¼ë„›"></div>
    <div class="floater"><img src="ìš°ë¦¬ë°€_ì•½ê³¼.png" alt="ìš°ë¦¬ë°€ ì•½ê³¼"></div>
    <div class="floater"><img src="ì´ˆì½”íë‹¹ìš”ê±°ê¿€ë–¡.png" alt="ì´ˆì½”íë‹¹ ìš”ê±°ê¿€ë–¡"></div>
    <div class="floater"><img src="1771930651027_image.png" alt="ì•½ê³¼ ìºë¦­í„°"></div>
    <div class="floater"><img src="image_117.png" alt="ë–¡ ìºë¦­í„°"></div>
    <div class="floater"><img src="ë‘ì«€ë–¡_í”¼ë„›__íŒ¨í‚¤ì§€.png" alt="ë‘ì«€ë–¡ í”¼ë„›"></div>

    <div class="container">
        <header>
            <span class="truck-emoji">ğŸšš</span>
            <h1>ë””ì €íŠ¸ íŠ¸ëŸ­ì´<br><span>ì°¾ì•„ê°‘ë‹ˆë‹¤!</span></h1>
            <p class="subtitle">
                ì‘ëª¨ìˆ˜ê°€ ê°€ì¥ ë§ì€ ëŒ€í•™êµì—<br>
                ë‹¬ì½¤í•œ ë””ì €íŠ¸ íŠ¸ëŸ­ì„ ì§ì ‘ ë³´ë‚´ë“œë ¤ìš” ğŸ°
            </p>
            <div class="live-badge">
                <div class="live-dot"></div>
                ì‹¤ì‹œê°„ ì§‘ê³„ ì¤‘
            </div>
        </header>

        <div class="urgency-banner">
            ğŸ† ì§€ê¸ˆ 1ë“± ëŒ€í•™êµë¡œ íŠ¸ëŸ­ì´ ì¶œë™í•©ë‹ˆë‹¤! ìš°ë¦¬ í•™êµê°€ ì´ê¸°ê²Œ í•´ì£¼ì„¸ìš” ğŸ”¥
        </div>

        <div class="cta-box">
            <h3>ğŸ© ì•„ì§ ì‘ëª¨ ì•ˆ í–ˆë‹¤ë©´ ì§€ê¸ˆ ë°”ë¡œ!</h3>
            <p>ë‚´ í•™êµ ìˆœìœ„ê°€ ì˜¬ë¼ê°€ëŠ” ê±¸ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!<br>í•œ ëª… í•œ ëª…ì˜ ì‘ëª¨ê°€ ìˆœìœ„ë¥¼ ë°”ê¿‰ë‹ˆë‹¤ âœ¨</p>
            
            <div class="action-buttons">
                <a href="https://docs.google.com/forms/d/e/1FAIpQLScDTEGuc0fR4LmoQIAvIehzdTgykRXpdL-YUi535FJALB7fbA/viewform?usp=header" target="_blank" class="btn btn-primary">
                    <span class="btn-icon">ğŸ“</span>
                    ì§€ê¸ˆ ë°”ë¡œ ì‘ëª¨í•˜ê¸°
                </a>
                <button onclick="shareEvent()" class="btn btn-share">
                    <span class="btn-icon">ğŸ“¢</span>
                    ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê¸°
                </button>
            </div>
        </div>

        <div id="loading" class="loading">
            ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘<span>â—</span><span>â—</span><span>â—</span>
        </div>
        <div id="error" class="error-message" style="display:none;"></div>

        <div id="podiumSection" class="podium-section" style="display:none;">
            <div class="podium-container" id="podiumContainer"></div>
            <div class="other-ranks" id="otherRanks" style="display:none;"></div>
        </div>

        <div class="total-box" id="totalStats" style="display:none;">
            <h2>ğŸ‰ ì§€ê¸ˆê¹Œì§€ ì´ ì‘ëª¨ ìˆ˜</h2>
            <div class="total-number" id="totalResponses">0</div>
            <div class="total-label">ëª…ì´ ì°¸ì—¬í–ˆì–´ìš”!</div>
            <div class="update-time">ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: <span id="updateTime">â€”</span></div>
        </div>
    </div>

    <script>
        const SHEET_ID = '1K9E0VDxspjRsTpjRbKL9KKvcyHFM4POz1HekzUSPL0k';
        const SHEET_GID = '750506638';
        const SHEET_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&gid=${SHEET_GID}`;

        let previousData = {};

        // University emoji mapping (ê°„ë‹¨í•œ ëŒ€í•™ ì•„ì´ì½˜)
        const uniEmojis = {
            'ê±´êµ­ëŒ€í•™êµ': 'ğŸƒ',
            'ê³ ë ¤ëŒ€í•™êµ': 'ğŸ¯',
            'ì—°ì„¸ëŒ€í•™êµ': 'ğŸ¦…',
            'ì„œìš¸ëŒ€í•™êµ': 'ğŸ“',
            'ì„±ê· ê´€ëŒ€í•™êµ': 'ğŸ“š',
            'í•œì–‘ëŒ€í•™êµ': 'ğŸ¦',
            'ì´í™”ì—¬ëŒ€': 'ğŸŒ¸',
            'ì„œê°•ëŒ€í•™êµ': 'âšœï¸',
            'ì¤‘ì•™ëŒ€í•™êµ': 'ğŸ’™',
            'ê²½í¬ëŒ€í•™êµ': 'ğŸŒ',
            'ìƒëª…íšŒëŒ€í•™êµ': 'ğŸ¨',
            'í‰íƒëŒ€í•™êµ': 'ğŸ“–',
            'ë™êµ­ëŒ€í•™êµ': 'â˜¸ï¸'
        };

        function getUniEmoji(name) {
            for (let key in uniEmojis) {
                if (name.includes(key.replace('ëŒ€í•™êµ', ''))) {
                    return uniEmojis[key];
                }
            }
            return 'ğŸ“'; // Default
        }

        async function fetchGoogleSheetData() {
            try {
                const response = await fetch(SHEET_URL);
                const text = await response.text();
                
                const start = text.indexOf('(') + 1;
                const end = text.lastIndexOf(')');
                const json = JSON.parse(text.substring(start, end));
                
                const rows = json.table.rows;
                const universities = [];
                
                for (let i = 0; i < rows.length; i++) {
                    const row = rows[i];
                    if (row.c && row.c[0] && row.c[1]) {
                        const nameCell = row.c[0];
                        const countCell = row.c[1];
                        if (nameCell.v && countCell.v !== null && countCell.v !== '') {
                            const name = nameCell.v.toString().trim();
                            const responses = parseInt(countCell.v);
                            if (name && !isNaN(responses)) {
                                const lastCount = previousData[name] || 0;
                                universities.push({ 
                                    name, 
                                    responses, 
                                    change: responses - lastCount,
                                    emoji: getUniEmoji(name)
                                });
                                previousData[name] = responses;
                            }
                        }
                    }
                }
                return universities;
            } catch (error) {
                console.error('ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
                throw error;
            }
        }

        function updateDisplay(universities) {
            if (!universities || universities.length === 0) {
                showError('ì•„ì§ ì‘ëª¨í•œ ëŒ€í•™êµê°€ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì‘ëª¨ìê°€ ë˜ì–´ë³´ì„¸ìš”! ğŸ‰');
                return;
            }

            document.getElementById('loading').style.display = 'none';
            document.getElementById('error').style.display = 'none';
            document.getElementById('podiumSection').style.display = 'block';
            document.getElementById('totalStats').style.display = 'block';

            universities.sort((a, b) => b.responses - a.responses);

            // Top 3 - Podium
            const podiumContainer = document.getElementById('podiumContainer');
            const top3 = universities.slice(0, 3);
            
            podiumContainer.innerHTML = top3.map((uni, index) => {
                const rankClass = `rank-${index + 1}`;
                const change = uni.change;
                const changeHTML = change !== 0 
                    ? `<div class="rank-change ${change > 0 ? 'up' : 'down'}">
                         ${change > 0 ? 'â–²' : 'â–¼'}${Math.abs(change)}
                       </div>` 
                    : '';
                
                return `
                    <div class="podium-card ${rankClass}">
                        <div class="podium-profile">
                            ${index === 0 ? '<div class="crown-icon">ğŸ‘‘</div>' : ''}
                            <div class="uni-avatar">${uni.emoji}</div>
                            <div class="uni-name">${uni.name}</div>
                            <div class="uni-count">${uni.responses.toLocaleString()}</div>
                            <div class="uni-label">ëª…</div>
                            ${changeHTML}
                        </div>
                        <div class="podium-base">
                            <div class="podium-rank">${index + 1}</div>
                        </div>
                    </div>
                `;
            }).join('');

            // Others
            const others = universities.slice(3);
            const otherRanksDiv = document.getElementById('otherRanks');
            
            if (others.length > 0) {
                otherRanksDiv.style.display = 'block';
                otherRanksDiv.innerHTML = `
                    <h3>ğŸ“Š ì „ì²´ ìˆœìœ„</h3>
                    ${others.map((uni, index) => {
                        const actualRank = index + 4;
                        const change = uni.change;
                        const changeHTML = change !== 0 
                            ? `<span class="rank-change ${change > 0 ? 'up' : 'down'}">
                                 ${change > 0 ? 'â–²' : 'â–¼'}${Math.abs(change)}
                               </span>` 
                            : '';
                        
                        return `
                            <div class="rank-item" style="animation-delay: ${index * 0.05}s">
                                <div class="rank-number">${actualRank}</div>
                                <div class="uni-avatar">${uni.emoji}</div>
                                <div class="rank-info">
                                    <div class="uni-name">${uni.name}</div>
                                    <div class="rank-stats">
                                        <span>${uni.responses.toLocaleString()}ëª…</span>
                                        ${changeHTML}
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                `;
            } else {
                otherRanksDiv.style.display = 'none';
            }

            // Total
            const total = universities.reduce((sum, uni) => sum + uni.responses, 0);
            document.getElementById('totalResponses').textContent = total.toLocaleString();
            document.getElementById('updateTime').textContent = new Date().toLocaleTimeString('ko-KR');
        }

        function showError(message) {
            document.getElementById('loading').style.display = 'none';
            const errorDiv = document.getElementById('error');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        async function refreshData() {
            try {
                const data = await fetchGoogleSheetData();
                updateDisplay(data);
            } catch (error) {
                showError('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. êµ¬ê¸€ ì‹œíŠ¸ ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                console.error('ìƒì„¸ ì˜¤ë¥˜:', error);
            }
        }

        refreshData();
        setInterval(refreshData, 10000);

        // Share function
        function shareEvent() {
            const shareData = {
                title: 'ğŸ° ë””ì €íŠ¸ íŠ¸ëŸ­ ì´ë²¤íŠ¸',
                text: 'ìš°ë¦¬ í•™êµì— ë””ì €íŠ¸ íŠ¸ëŸ­ì„ ë³´ë‚´ì£¼ì„¸ìš”! ì§€ê¸ˆ ë°”ë¡œ ì‘ëª¨í•˜ê³  ì‹¤ì‹œê°„ ìˆœìœ„ë¥¼ í™•ì¸í•˜ì„¸ìš”!',
                url: window.location.href
            };

            // Web Share API ì§€ì› ì—¬ë¶€ í™•ì¸ (ëª¨ë°”ì¼)
            if (navigator.share) {
                navigator.share(shareData)
                    .then(() => console.log('ê³µìœ  ì„±ê³µ!'))
                    .catch((error) => console.log('ê³µìœ  ì·¨ì†Œ:', error));
            } else {
                // Web Share API ë¯¸ì§€ì› ì‹œ URL ë³µì‚¬
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(() => {
                    alert('ğŸ‰ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì¹œêµ¬ë“¤ì—ê²Œ ê³µìœ í•´ì£¼ì„¸ìš”:\n' + url);
                }).catch(() => {
                    // ë³µì‚¬ ì‹¤íŒ¨ ì‹œ í”„ë¡¬í”„íŠ¸ í‘œì‹œ
                    prompt('ì•„ë˜ ë§í¬ë¥¼ ë³µì‚¬í•´ì„œ ê³µìœ í•´ì£¼ì„¸ìš”:', url);
                });
            }
        }
    </script>
</body>
</html>
